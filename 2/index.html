<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>charlie ashford // terminal</title>

    <meta name="description" content="charlie ashford - web developer, extension developer, newstats lead at newstudio. retro terminal portfolio." />
    <meta name="keywords" content="charlie ashford, web developer, portfolio, terminal, retro" />
    <meta name="author" content="charlie ashford" />
    <meta name="theme-color" content="#0D0208" />

    <link rel="icon" href="https://charlieashford.com/images/logo.png" type="image/png" />

    <meta property="og:title" content="charlie ashford // terminal" />
    <meta property="og:description" content="charlie ashford - web developer, extension developer, newstats lead at newstudio." />
    <meta property="og:url" content="https://www.charlieashford.com/2" />
    <meta property="og:type" content="website" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.0/css/all.min.css" />

    <style>
        /* ===== RESET & BASE ===== */
        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --green: #00FF41;
            --green-dim: #00cc33;
            --green-dark: #009922;
            --green-glow: rgba(0, 255, 65, 0.4);
            --green-faint: rgba(0, 255, 65, 0.08);
            --bg: #0D0208;
            --amber: #FFB000;
            --red: #FF0040;
            --cyan: #00FFFF;
            --white: #c0c0c0;
            --font-mono: 'Fira Code', 'IBM Plex Mono', 'Courier New', monospace;
            --font-ibm: 'IBM Plex Mono', 'Fira Code', monospace;
        }

        html { scroll-behavior: smooth; }

        body {
            background: var(--bg);
            color: var(--green);
            font-family: var(--font-mono);
            font-size: 14px;
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        ::selection { background: var(--green); color: var(--bg); }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg); }
        ::-webkit-scrollbar-thumb { background: var(--green-dark); }
        ::-webkit-scrollbar-thumb:hover { background: var(--green-dim); }

        a { color: var(--green); text-decoration: none; }
        a:hover { color: var(--amber); text-shadow: 0 0 8px var(--amber); }

        /* ===== CRT POWER-ON OVERLAY ===== */
        #crt-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 10000; background: var(--bg);
            display: flex; align-items: center; justify-content: center;
            pointer-events: all;
        }
        #crt-overlay .power-line {
            width: 0; height: 2px;
            background: var(--green);
            box-shadow: 0 0 20px var(--green), 0 0 60px var(--green-glow);
            transition: none;
        }
        #crt-overlay.phase-1 .power-line {
            width: 60%; height: 2px;
            transition: width 0.3s ease-out;
        }
        #crt-overlay.phase-2 .power-line {
            width: 90%; height: 100vh;
            transition: width 0.1s, height 0.25s ease-out 0.05s;
        }
        #crt-overlay.phase-3 {
            background: var(--green); opacity: 1;
            transition: opacity 0.1s;
        }
        #crt-overlay.phase-4 {
            opacity: 0; pointer-events: none;
            transition: opacity 0.5s ease-out;
        }

        /* ===== MATRIX RAIN CANVAS ===== */
        #matrix-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; opacity: 0.07; pointer-events: none;
        }

        /* ===== CRT SCREEN ===== */
        #crt-screen {
            position: relative; z-index: 1; min-height: 100vh;
        }
        /* Scanlines */
        #crt-screen::before {
            content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0,0,0,0) 0px, rgba(0,0,0,0) 1px,
                rgba(0,0,0,0.15) 1px, rgba(0,0,0,0.15) 2px
            );
            pointer-events: none; z-index: 1000;
        }
        /* CRT vignette */
        #crt-screen::after {
            content: ''; position: fixed;
            top: -2%; left: -2%; width: 104%; height: 104%;
            background: radial-gradient(ellipse at center, transparent 55%, rgba(0,0,0,0.7) 100%);
            pointer-events: none; z-index: 999;
        }
        /* Flicker */
        @keyframes flicker {
            0%{opacity:.97} 5%{opacity:.94} 10%{opacity:.98}
            15%{opacity:.96} 20%{opacity:.99} 50%{opacity:.95}
            80%{opacity:.98} 90%{opacity:.94} 100%{opacity:.97}
        }
        #crt-screen { animation: flicker 8s infinite; }

        /* ===== TERMINAL LAYOUT ===== */
        .terminal {
            max-width: 960px; margin: 0 auto;
            padding: 30px 24px 60px;
            position: relative; z-index: 2;
            opacity: 0; transition: opacity 0.6s ease 0.1s;
        }
        .terminal.loaded { opacity: 1; }

        /* ===== TERMINAL BAR ===== */
        .terminal-bar {
            display: flex; align-items: center; gap: 8px;
            padding: 8px 16px;
            background: rgba(0,255,65,0.05);
            border: 1px solid rgba(0,255,65,0.15);
            border-radius: 6px 6px 0 0;
            font-size: 12px; color: var(--green-dim);
        }
        .terminal-bar .dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; }
        .terminal-bar .dot-r { background: #ff5f57; }
        .terminal-bar .dot-y { background: #febc2e; }
        .terminal-bar .dot-g { background: #28c840; }
        .terminal-bar .title { margin-left: 12px; font-family: var(--font-ibm); letter-spacing: 1px; }

        .terminal-body {
            border: 1px solid rgba(0,255,65,0.15); border-top: none;
            border-radius: 0 0 6px 6px;
            padding: 24px; background: rgba(0,0,0,0.35);
            text-shadow: 0 0 1px rgba(0,255,65,0.15);
        }

        /* ===== PROMPT ===== */
        .prompt { color: var(--green); margin-bottom: 4px; font-weight: 500; }
        .prompt .user { color: var(--cyan); }
        .prompt .path { color: var(--amber); }
        .prompt .symbol { color: var(--green); }
        .cmd { color: var(--white); font-weight: 400; }
        .output { color: var(--green-dim); margin-bottom: 20px; line-height: 1.7; }
        .highlight { color: var(--green); font-weight: 600; text-shadow: 0 0 6px var(--green-glow); }
        .amber { color: var(--amber); }
        .cyan { color: var(--cyan); }
        .red { color: var(--red); }
        .dim { color: #555; }

        /* ===== BLINKING CURSOR ===== */
        @keyframes blink { 0%,50%{opacity:1} 51%,100%{opacity:0} }
        .cursor {
            display: inline-block; width: 9px; height: 17px;
            background: var(--green); animation: blink 1s step-end infinite;
            vertical-align: text-bottom; margin-left: 2px;
            box-shadow: 0 0 8px var(--green-glow);
        }

        /* ===== BACK LINK ===== */
        .back-link {
            display: inline-block; margin-bottom: 24px; padding: 4px 0;
            font-size: 13px; color: var(--green-dim); transition: all 0.2s;
        }
        .back-link:hover { color: var(--amber); text-shadow: 0 0 8px var(--amber); }
        .back-link:hover .back-arrow { transform: translateX(-4px); }
        .back-arrow { display: inline-block; transition: transform 0.2s; margin-right: 4px; }

        /* ===== ASCII HEADER ===== */
        .ascii-art {
            font-size: 8.5px; line-height: 1.1; color: var(--green);
            text-shadow: 0 0 10px var(--green-glow);
            white-space: pre; overflow-x: auto;
            margin: 8px 0 20px; font-family: var(--font-mono); letter-spacing: 0.5px;
        }

        /* ===== SECTIONS ===== */
        .section {
            margin-top: 32px; opacity: 0; transform: translateY(12px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .section.visible { opacity: 1; transform: translateY(0); }
        .section-divider { border: none; border-top: 1px dashed rgba(0,255,65,0.2); margin: 28px 0; }

        /* ===== DISCORD STATUS ===== */
        .status-section { margin-top: 12px; }
        .status-indicator {
            display: inline-block; width: 8px; height: 8px;
            border-radius: 50%; margin-right: 6px; vertical-align: middle;
        }
        .status-online { background: #43b581; box-shadow: 0 0 8px #43b581; }
        .status-idle { background: #faa61a; box-shadow: 0 0 8px #faa61a; }
        .status-dnd { background: #f04747; box-shadow: 0 0 8px #f04747; }
        .status-offline { background: #747f8d; }

        .spotify-bar {
            margin-top: 8px; padding: 8px 12px;
            border-left: 2px solid #1DB954;
            background: rgba(29,185,84,0.05); font-size: 12px;
        }
        .spotify-bar .sp-icon { color: #1DB954; }

        .activity-bar {
            margin-top: 6px; padding: 8px 12px;
            border-left: 2px solid var(--cyan);
            background: rgba(0,255,255,0.03); font-size: 12px;
        }

        /* ===== DIRECTORY LISTING ===== */
        .dir-listing-header {
            color: var(--amber); font-weight: 600; font-size: 11px;
            text-transform: uppercase; letter-spacing: 1px;
            margin-bottom: 8px; padding-bottom: 4px;
            border-bottom: 1px solid rgba(0,255,65,0.1);
        }
        .dir-entry {
            display: grid; grid-template-columns: 90px 100px 1fr auto;
            gap: 8px; padding: 5px 4px;
            border-bottom: 1px solid rgba(0,255,65,0.03);
            cursor: pointer; transition: all 0.15s;
            align-items: center; font-size: 13px;
        }
        .dir-entry:hover { background: rgba(0,255,65,0.06); }
        .dir-entry .dir-date { color: #555; font-size: 12px; }
        .dir-entry .dir-perms { color: #444; font-size: 11px; font-family: var(--font-mono); }
        .dir-entry .dir-name {
            color: var(--cyan); font-weight: 500; transition: all 0.15s;
        }
        .dir-entry:hover .dir-name {
            color: var(--amber); text-shadow: 0 0 8px rgba(255,176,0,0.3);
        }
        .dir-entry .dir-size { color: #555; font-size: 12px; text-align: right; }

        /* ===== PROJECT DETAIL ===== */
        .project-detail {
            display: none; margin-top: 16px; padding: 16px;
            border: 1px solid rgba(0,255,65,0.15);
            background: rgba(0,0,0,0.5); border-radius: 2px;
        }
        .project-detail.active { display: block; animation: fadeDetail 0.3s ease; }
        @keyframes fadeDetail { from{opacity:0;transform:translateY(-6px)} to{opacity:1;transform:translateY(0)} }

        .project-detail .detail-header {
            color: var(--amber); font-weight: 600; font-size: 15px;
            margin-bottom: 10px; text-shadow: 0 0 8px rgba(255,176,0,0.3);
        }
        .project-detail .detail-row { display: flex; gap: 8px; margin-bottom: 4px; font-size: 13px; flex-wrap: wrap; }
        .project-detail .detail-label { color: var(--green-dim); min-width: 80px; }
        .project-detail .detail-value { color: var(--white); word-break: break-all; }
        .project-detail .detail-value a { color: var(--cyan); }
        .project-detail .detail-value a:hover { color: var(--amber); }
        .project-detail .detail-image {
            margin-top: 12px; max-width: 100%; height: auto;
            border: 1px solid rgba(0,255,65,0.1); border-radius: 2px;
            filter: brightness(0.9) contrast(1.05);
        }
        .project-detail .close-btn {
            margin-top: 14px; display: inline-block; color: var(--red);
            cursor: pointer; font-size: 12px; transition: color 0.2s;
        }
        .project-detail .close-btn:hover { color: var(--amber); }

        /* ===== WORK CARD ===== */
        .work-card {
            display: flex; gap: 16px; align-items: flex-start;
            padding: 14px; border: 1px solid rgba(0,255,65,0.1);
            background: rgba(0,255,65,0.02); border-radius: 2px; margin-top: 8px;
        }
        .work-card img {
            width: 48px; height: 48px; border-radius: 4px;
            border: 1px solid rgba(0,255,65,0.15);
        }
        .work-card .work-info { flex: 1; }
        .work-card .work-title { color: var(--amber); font-weight: 600; font-size: 14px; }
        .work-card .work-role { color: var(--green); font-size: 13px; margin-top: 2px; }
        .work-card .work-desc { color: var(--green-dim); font-size: 12px; margin-top: 6px; line-height: 1.5; }
        .work-card .work-date { color: #555; font-size: 11px; margin-top: 4px; }

        /* ===== SOCIAL LINKS ===== */
        .social-links { display: flex; flex-wrap: wrap; gap: 14px; margin-top: 8px; }
        .social-link {
            display: inline-flex; align-items: center; gap: 6px;
            padding: 6px 14px; border: 1px solid rgba(0,255,65,0.12);
            font-size: 13px; color: var(--green-dim);
            transition: all 0.2s; background: rgba(0,255,65,0.02);
        }
        .social-link:hover {
            border-color: var(--amber); color: var(--amber);
            background: rgba(255,176,0,0.05);
            text-shadow: 0 0 6px rgba(255,176,0,0.3);
            box-shadow: 0 0 14px rgba(255,176,0,0.08);
        }
        .social-link i { font-size: 14px; }

        /* ===== GLITCH HOVER ===== */
        .glitch-hover { position: relative; display: inline-block; }
        .glitch-hover:hover { animation: glitch 0.3s linear; }
        @keyframes glitch {
            0%{transform:translate(0)} 10%{transform:translate(-2px,1px)}
            20%{transform:translate(2px,-1px);filter:hue-rotate(90deg)}
            30%{transform:translate(-1px,2px)} 40%{transform:translate(1px,-2px);filter:hue-rotate(180deg)}
            50%{transform:translate(-2px,-1px)} 60%{transform:translate(2px,1px);filter:hue-rotate(270deg)}
            70%{transform:translate(0,-2px)} 80%{transform:translate(-1px,0);filter:hue-rotate(360deg)}
            90%{transform:translate(1px,1px)} 100%{transform:translate(0);filter:hue-rotate(0deg)}
        }

        .ascii-header-wrap { position: relative; display: inline-block; }
        .ascii-header-wrap:hover .ascii-art { animation: glitch-text 0.4s linear; }
        @keyframes glitch-text {
            0%{text-shadow:0 0 10px var(--green-glow)}
            20%{text-shadow:-3px 0 var(--red),3px 0 var(--cyan)}
            40%{text-shadow:3px 0 var(--red),-3px 0 var(--cyan)}
            60%{text-shadow:-2px 0 var(--cyan),2px 0 var(--red)}
            80%{text-shadow:2px 0 var(--red),-2px 0 var(--cyan)}
            100%{text-shadow:0 0 10px var(--green-glow)}
        }

        /* ===== NEOFETCH LAYOUT ===== */
        .neofetch-wrap { display: flex; gap: 24px; flex-wrap: wrap; }
        .neofetch-ascii { min-width: 180px; }
        .neofetch-ascii pre {
            color: var(--green); text-shadow: 0 0 6px var(--green-glow);
            font-size: 10px; line-height: 1.15;
        }
        .neofetch-info { font-size: 13px; line-height: 1.85; }

        /* ===== FOOTER ===== */
        .footer {
            margin-top: 40px; padding-top: 16px;
            border-top: 1px dashed rgba(0,255,65,0.15);
            font-size: 12px; color: #444; text-align: center;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .terminal { padding: 16px 12px 40px; }
            .terminal-body { padding: 16px 12px; }
            body { font-size: 13px; }
            .work-card { flex-direction: column; }
            .neofetch-ascii { display: none; }
            .dir-entry { grid-template-columns: 70px 1fr; font-size: 12px; }
            .dir-entry .dir-perms, .dir-entry .dir-size { display: none; }
        }
        @media (max-width: 640px) {
            .ascii-art { font-size: 5.2px; line-height: 1.05; }
        }
        @media (max-width: 480px) {
            .ascii-art { font-size: 4px; }
            .social-links { flex-direction: column; }
            .social-link { width: 100%; justify-content: center; }
        }
    </style>
</head>
<body>

<!-- CRT Power-On Overlay -->
<div id="crt-overlay"><div class="power-line"></div></div>

<!-- Matrix Rain Canvas -->
<canvas id="matrix-canvas"></canvas>

<!-- CRT Screen -->
<div id="crt-screen">
<div class="terminal" id="terminal">

    <!-- Terminal Title Bar -->
    <div class="terminal-bar">
        <span class="dot dot-r"></span>
        <span class="dot dot-y"></span>
        <span class="dot dot-g"></span>
        <span class="title">charlie@sydney:~/portfolio</span>
    </div>

    <div class="terminal-body">

        <!-- Back link as cd / -->
        <a href="/" class="back-link">
            <span class="prompt"><span class="user">guest</span>@<span class="path">portfolio</span> <span class="symbol">$</span></span>
            <span class="cmd"><span class="back-arrow">&larr;</span>cd /</span>
        </a>

        <!-- Boot Sequence (typed live) -->
        <div class="section" id="sec-boot" style="opacity:1;transform:none;">
            <div class="output" id="boot-output"></div>
        </div>

        <!-- ASCII Art Name -->
        <div class="section" id="sec-header">
            <div class="prompt">
                <span class="user">charlie</span>@<span class="path">sydney</span> <span class="symbol">$</span>
                <span class="cmd">cat /etc/motd</span>
            </div>
            <div class="output">
                <div class="ascii-header-wrap glitch-hover">
<pre class="ascii-art">
   ____ _                _  _           _        _      __              _
  / ___| |__   __ _ _ __| |(_) ___     / \   ___| |__  / _| ___  _ __ | |
 | |   | '_ \ / _` | '__| || |/ _ \  / _ \ / __| '_ \| |_ / _ \| '__|| |
 | |___| | | | (_| | |  | || |  __/ / ___ \\__ \ | | |  _| (_) | |   | |
  \____|_| |_|\__,_|_|  |_||_|\___||_/   \_\___/_| |_|_|  \___/|_|   |_|
</pre>
                </div>
            </div>
        </div>

        <!-- whoami -->
        <div class="section" id="sec-whoami">
            <div class="prompt">
                <span class="user">charlie</span>@<span class="path">sydney</span> <span class="symbol">$</span>
                <span class="cmd">whoami --verbose</span>
            </div>
            <div class="output">
                <br>
                <span class="highlight">Charlie Ashford</span><br>
                <span class="dim"># 19 y/o developer from Sydney, Australia</span><br>
                <span class="dim"># extension developer &amp; NewStats lead @ NewStudio</span><br>
                <span class="dim"># i make stuff that people on the internet use</span><br>
                <br>
            </div>
        </div>

        <hr class="section-divider">

        <!-- neofetch -->
        <div class="section" id="sec-status">
            <div class="prompt">
                <span class="user">charlie</span>@<span class="path">sydney</span> <span class="symbol">$</span>
                <span class="cmd">neofetch</span>
            </div>
            <div class="output">
                <br>
                <div class="neofetch-wrap">
                    <div class="neofetch-ascii">
<pre>
         _nnnn_
        dGGGGMMb
       @p~qp~~qMb
       M|@||@) M|
       @,----.JM|
      JS^\__/  qKL
     dZP        qKRb
    dZP          qKKb
   fZP            SMMb
   HZM            MMMM
   FqM            MMMM
 __| ".        |\dS"qML
 |    `.       | `' \Zq
_)      \.___.,|     .'
\____   )MMMMMP|   .'
     `-'       `--'
</pre>
                    </div>
                    <div class="neofetch-info">
                        <span class="cyan">charlie</span><span class="dim">@</span><span class="cyan">sydney</span><br>
                        <span class="dim">-------------------</span><br>
                        <span class="amber">OS:</span> <span class="cmd">Human 19.0 (born 2005-10-25)</span><br>
                        <span class="amber">Host:</span> <span class="cmd">Sydney, Australia</span><br>
                        <span class="amber">Uptime:</span> <span class="cmd" id="uptime-val">calculating...</span><br>
                        <span class="amber">Shell:</span> <span class="cmd">JavaScript / TypeScript</span><br>
                        <span class="amber">Role:</span> <span class="cmd">Extension Dev &amp; NewStats Lead</span><br>
                        <span class="amber">Company:</span> <span class="cmd"><a href="https://newstudio.app" target="_blank" rel="noopener">NewStudio</a></span><br>
                        <span class="amber">Local Time:</span> <span class="cmd"><span class="amber" id="sydney-time">--:--:--</span></span><br>
                        <span class="amber">Projects:</span> <span class="cmd">18 installed</span><br>
                        <br>
                        <span class="amber">Discord:</span>
                        <div id="discord-status" class="status-section">
                            <span class="dim">connecting to lanyard...</span>
                        </div>
                    </div>
                </div>
                <br>
            </div>
        </div>

        <hr class="section-divider">

        <!-- Work -->
        <div class="section" id="sec-work">
            <div class="prompt">
                <span class="user">charlie</span>@<span class="path">sydney</span> <span class="symbol">$</span>
                <span class="cmd">cat /var/work/current.json</span>
            </div>
            <div class="output">
                <br>
                <div class="work-card">
                    <img src="../images/newstudio.png" alt="NewStudio" onerror="this.style.display='none'" />
                    <div class="work-info">
                        <div class="work-title"><a href="https://newstudio.app" target="_blank" rel="noopener">NewStudio</a></div>
                        <div class="work-role">Extension Developer &amp; NewStats Lead</div>
                        <div class="work-desc">NewStats offers better YouTube analytics integrated with NewStudio, a better YouTube Studio experience.</div>
                        <div class="work-date">Oct 2025 &mdash; Present</div>
                    </div>
                </div>
                <br>
            </div>
        </div>

        <hr class="section-divider">

        <!-- Projects ls -la -->
        <div class="section" id="sec-projects">
            <div class="prompt">
                <span class="user">charlie</span>@<span class="path">sydney</span> <span class="symbol">$</span>
                <span class="cmd">ls -la ~/projects/</span>
            </div>
            <div class="output">
                <br>
                <div class="dir-listing-header">total 18 &mdash; drwxr-xr-x charlie staff &mdash; click a file to cat it</div>
                <div id="project-list"></div>
                <div id="project-detail" class="project-detail"></div>
                <br>
            </div>
        </div>

        <hr class="section-divider">

        <!-- Socials -->
        <div class="section" id="sec-contact">
            <div class="prompt">
                <span class="user">charlie</span>@<span class="path">sydney</span> <span class="symbol">$</span>
                <span class="cmd">cat ~/.config/socials.conf</span>
            </div>
            <div class="output">
                <br>
                <div class="social-links">
                    <a href="https://github.com/charlie-ashford" target="_blank" rel="noopener" class="social-link glitch-hover">
                        <i class="fa-brands fa-github"></i> GitHub
                    </a>
                    <a href="https://twitter.com/charlieashfordd" target="_blank" rel="noopener" class="social-link glitch-hover">
                        <i class="fa-brands fa-twitter"></i> Twitter
                    </a>
                    <a href="https://discord.com/users/1158588351943811142" target="_blank" rel="noopener" class="social-link glitch-hover">
                        <i class="fa-brands fa-discord"></i> Discord
                    </a>
                    <a href="https://charlieashford.com" target="_blank" rel="noopener" class="social-link glitch-hover">
                        <i class="fa-solid fa-globe"></i> Website
                    </a>
                </div>
                <br>
            </div>
        </div>

        <hr class="section-divider">

        <!-- Final blinking prompt -->
        <div class="section" id="sec-final">
            <div class="prompt">
                <span class="user">charlie</span>@<span class="path">sydney</span> <span class="symbol">$</span>
                <span class="cursor"></span>
            </div>
        </div>

        <div class="footer">
            <span class="dim">&copy; 2025 charlie ashford &mdash; rendered in phosphor green</span>
        </div>

    </div><!-- terminal-body -->
</div><!-- terminal -->
</div><!-- crt-screen -->

<!-- Luxon CDN -->
<script src="https://cdn.jsdelivr.net/npm/luxon@3/build/global/luxon.min.js"></script>

<script>
(function() {
    'use strict';

    /* ===== PROJECT DATA ===== */
    var projects = [
        { name: "communitrics-bot", desc: "Discord bot for real-time tracking of YouTube channel milestones.", date: "Jan 2024", link: "https://communitrics.com", code: null, image: "../images/communitrics.png" },
        { name: "mrbeast-sub-graph", desc: "Real-time graph of MrBeast's subscriber count.", date: "May 2024", link: "https://mrbeastgraph.com", code: "https://github.com/charlie-ashford/mrbeast-graph", image: "../images/mbgraph.png" },
        { name: "yt-data-exporter", desc: "Export statistics for any YouTube channel or video.", date: "Aug 2024", link: "https://export.communitrics.com", code: "https://github.com/charlie-ashford/data-exporter", image: "../images/export.png" },
        { name: "communitrics-graphs", desc: "Subscriber and average graphs for YouTube channels.", date: "Apr 2024", link: "https://graphs.communitrics.com", code: "https://github.com/charlie-ashford/channel-graphs", image: "../images/graphs.png" },
        { name: "sctools", desc: "Tools for stats creators.", date: "Sep 2024", link: "https://sctools.org", code: null, image: "../images/sctools.png" },
        { name: "video-data", desc: "Hourly statistics for YouTube channels.", date: "Aug 2024", link: "https://videostats.communitrics.com", code: "https://github.com/charlie-ashford/video-stats", image: "../images/videos.png" },
        { name: "socialstats-app", desc: "Cross-platform social media analytics.", date: "Jan 2025", link: "https://socialstats.app", code: null, image: "../images/socialstats.png" },
        { name: "my-portfolio", desc: "Personal portfolio site.", date: "Jan 2025", link: "https://charlieashford.com", code: "https://github.com/charlie-ashford/my-portfolio", image: "../images/portfolio.png" },
        { name: "mrbeast-hourly-bot", desc: "Discord bot for hourly MrBeast subscriber updates.", date: "May 2024", link: null, code: null, image: "../images/hourly.png" },
        { name: "top-yt-channels", desc: "List of the 1,000 most-subscribed YouTube channels.", date: "Apr 2024", link: "https://top.communitrics.com", code: "https://github.com/charlie-ashford/top-channels", image: "../images/top.png" },
        { name: "old-youtube", desc: "Explore YouTube channels from 2005.", date: "Oct 2024", link: "https://oldtube.communitrics.com", code: "https://github.com/charlie-ashford/old-youtube", image: "../images/oldtube.png" },
        { name: "color-extractor", desc: "Extract color palettes from images.", date: "Apr 2025", link: "https://colors.communitrics.com", code: "https://github.com/charlie-ashford/color-extractor", image: "../images/colors.png" },
        { name: "counting-data", desc: "Analytics for counting YouTube channels.", date: "Jul 2024", link: "https://counting.communitrics.com", code: "https://github.com/charlie-ashford/counting-data", image: "../images/counting.png" },
        { name: "mrbeast-twitter-bot", desc: "Automated Twitter bot for MrBeast subscriber count.", date: "Feb 2025", link: "https://twitter.com/MrBeast_Count", code: null, image: "../images/twitter.png" },
        { name: "reminder-bot", desc: "Periodic reminder system Discord bot.", date: "Feb 2025", link: "https://discord.com/oauth2/authorize?client_id=1339020731052331058", code: null, image: "../images/remind.png" },
        { name: "global-clicker", desc: "Collaborative global counter.", date: "May 2024", link: "https://clicker.communitrics.com", code: "https://github.com/charlie-ashford/global-clicker", image: "../images/clicker.png" },
        { name: "ytb-xp-leaderboard", desc: "Custom XP tracking leaderboard for YTB Discord.", date: "Sep 2024", link: null, code: null, image: "../images/ytb.png" },
        { name: "bluesky-stats", desc: "Analytics for Bluesky social network.", date: "Nov 2024", link: "https://bluesky.communitrics.com", code: "https://github.com/charlie-ashford/bluesky-stats", image: "../images/bluesky.png" }
    ];

    /* ===== BOOT TYPEWRITER ===== */
    var bootLines = [
        { text: 'BIOS POST...', sfx: ' OK' },
        { text: 'Memory test... 32768 KB', sfx: ' OK' },
        { text: 'Detecting hardware...', sfx: ' found' },
        { text: 'Loading kernel modules...', sfx: ' done' },
        { text: 'Mounting /dev/portfolio...', sfx: ' mounted' },
        { text: 'Initialising matrix rain...', sfx: ' active' },
        { text: 'Establishing lanyard connection...', sfx: ' connected' },
        { text: 'Starting session for charlie...', sfx: '' },
        { text: '', sfx: '' }
    ];

    function typeBootSequence(callback) {
        var container = document.getElementById('boot-output');
        var lineIdx = 0;

        function nextLine() {
            if (lineIdx >= bootLines.length) {
                if (callback) callback();
                return;
            }
            var line = bootLines[lineIdx];
            if (!line.text && !line.sfx) {
                container.appendChild(document.createElement('br'));
                lineIdx++;
                setTimeout(nextLine, 80);
                return;
            }

            var wrapper = document.createElement('span');
            wrapper.className = 'dim';
            container.appendChild(wrapper);

            var text = line.text;
            var ci = 0;

            function typeChar() {
                if (ci < text.length) {
                    wrapper.textContent += text[ci];
                    ci++;
                    setTimeout(typeChar, 8 + Math.random() * 14);
                } else {
                    if (line.sfx) {
                        var s = document.createElement('span');
                        s.className = 'highlight';
                        s.textContent = line.sfx;
                        wrapper.appendChild(s);
                    }
                    container.appendChild(document.createElement('br'));
                    lineIdx++;
                    setTimeout(nextLine, 40 + Math.random() * 80);
                }
            }
            setTimeout(typeChar, 30);
        }
        nextLine();
    }

    /* ===== RENDER PROJECTS ===== */
    function renderProjects() {
        var container = document.getElementById('project-list');
        var perms = ['-rwxr-xr-x', '-rw-r--r--', 'drwxr-xr-x', '-rwxr--r--', '-rw-rw-r--', '-rwxrwxr-x'];
        var sizes = ['4.0K', '2.1K', '8.3K', '1.7K', '3.2K', '5.5K', '6.8K', '12K', '960B', '7.4K', '2.8K', '15K', '1.1K', '4.4K', '3.9K', '9.2K', '6.1K', '5.0K'];
        var html = '';
        for (var i = 0; i < projects.length; i++) {
            var p = projects[i];
            html += '<div class="dir-entry" onclick="window._showProject(' + i + ')">' +
                '<span class="dir-date">' + p.date + '</span>' +
                '<span class="dir-perms">' + perms[i % perms.length] + '</span>' +
                '<span class="dir-name">' + p.name + '/</span>' +
                '<span class="dir-size">' + sizes[i % sizes.length] + '</span>' +
                '</div>';
        }
        container.innerHTML = html;
    }

    /* ===== SHOW / CLOSE PROJECT ===== */
    function esc(str) {
        if (!str) return '';
        var d = document.createElement('div');
        d.appendChild(document.createTextNode(str));
        return d.innerHTML;
    }

    window._showProject = function(idx) {
        var p = projects[idx];
        var det = document.getElementById('project-detail');
        var links = '';
        if (p.link) links += '<div class="detail-row"><span class="detail-label amber">Link:</span><span class="detail-value"><a href="' + esc(p.link) + '" target="_blank" rel="noopener">' + esc(p.link) + '</a></span></div>';
        if (p.code) links += '<div class="detail-row"><span class="detail-label amber">Source:</span><span class="detail-value"><a href="' + esc(p.code) + '" target="_blank" rel="noopener">' + esc(p.code) + '</a></span></div>';
        var img = p.image ? '<img src="' + esc(p.image) + '" alt="' + esc(p.name) + '" class="detail-image" onerror="this.style.display=\'none\'" />' : '';

        det.innerHTML =
            '<div class="prompt" style="margin-bottom:10px;">' +
                '<span class="user">charlie</span>@<span class="path">sydney</span> <span class="symbol">$</span> ' +
                '<span class="cmd">cat ~/projects/' + esc(p.name) + '/README.md</span>' +
            '</div>' +
            '<div class="detail-header"># ' + esc(p.name) + '</div>' +
            '<div class="detail-row"><span class="detail-label amber">Desc:</span><span class="detail-value">' + esc(p.desc) + '</span></div>' +
            '<div class="detail-row"><span class="detail-label amber">Date:</span><span class="detail-value">' + esc(p.date) + '</span></div>' +
            links + img +
            '<div class="close-btn" onclick="window._closeProject()">[ESC] close &mdash; q to quit</div>';
        det.classList.add('active');
        det.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    };

    window._closeProject = function() {
        document.getElementById('project-detail').classList.remove('active');
    };

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' || e.key === 'q') window._closeProject();
    });

    /* ===== CRT POWER ON ===== */
    function crtPowerOn(callback) {
        var ov = document.getElementById('crt-overlay');
        var term = document.getElementById('terminal');

        setTimeout(function() { ov.classList.add('phase-1'); }, 300);
        setTimeout(function() { ov.classList.remove('phase-1'); ov.classList.add('phase-2'); }, 700);
        setTimeout(function() { ov.classList.remove('phase-2'); ov.classList.add('phase-3'); }, 1100);
        setTimeout(function() {
            ov.classList.remove('phase-3');
            ov.classList.add('phase-4');
            term.classList.add('loaded');
            if (callback) callback();
        }, 1300);
        setTimeout(function() { ov.remove(); }, 2200);
    }

    /* ===== MATRIX RAIN ===== */
    function initMatrixRain() {
        var c = document.getElementById('matrix-canvas');
        var ctx = c.getContext('2d');
        function resize() { c.width = window.innerWidth; c.height = window.innerHeight; }
        resize();
        window.addEventListener('resize', resize);

        var chars = 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲンABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*';
        var fs = 14;
        var cols = Math.floor(c.width / fs);
        var drops = [];
        for (var i = 0; i < cols; i++) drops[i] = Math.floor(Math.random() * -50);

        function draw() {
            ctx.fillStyle = 'rgba(13, 2, 8, 0.04)';
            ctx.fillRect(0, 0, c.width, c.height);
            ctx.font = fs + 'px monospace';

            var newCols = Math.floor(c.width / fs);
            while (drops.length < newCols) drops.push(Math.floor(Math.random() * -20));

            for (var i = 0; i < newCols; i++) {
                if (drops[i] < 0) { drops[i]++; continue; }
                var ch = chars[Math.floor(Math.random() * chars.length)];
                // Bright head
                ctx.fillStyle = '#AAFFAA';
                ctx.globalAlpha = 0.9;
                ctx.fillText(ch, i * fs, drops[i] * fs);
                // Dimmer trail
                ctx.fillStyle = '#00FF41';
                ctx.globalAlpha = 0.25 + Math.random() * 0.35;
                if (drops[i] > 1) {
                    var prev = chars[Math.floor(Math.random() * chars.length)];
                    ctx.fillText(prev, i * fs, (drops[i] - 1) * fs);
                }
                ctx.globalAlpha = 1;

                if (drops[i] * fs > c.height && Math.random() > 0.975) {
                    drops[i] = Math.floor(Math.random() * -20);
                }
                drops[i]++;
            }
        }
        setInterval(draw, 45);
    }

    /* ===== SCROLL REVEAL ===== */
    function initScrollReveal() {
        var secs = document.querySelectorAll('.section');
        if ('IntersectionObserver' in window) {
            var obs = new IntersectionObserver(function(entries) {
                for (var i = 0; i < entries.length; i++) {
                    if (entries[i].isIntersecting) entries[i].target.classList.add('visible');
                }
            }, { threshold: 0.08, rootMargin: '0px 0px -30px 0px' });
            for (var i = 0; i < secs.length; i++) {
                if (secs[i].id !== 'sec-boot') obs.observe(secs[i]);
            }
        } else {
            for (var i = 0; i < secs.length; i++) secs[i].classList.add('visible');
        }
    }

    /* ===== SYDNEY TIME ===== */
    function updateTime() {
        try {
            var now = luxon.DateTime.now().setZone('Australia/Sydney');
            document.getElementById('sydney-time').textContent =
                now.toFormat('HH:mm:ss') + ' (' + now.toFormat('EEE, dd MMM yyyy') + ')';
        } catch(e) {
            document.getElementById('sydney-time').textContent = 'unavailable';
        }
    }

    /* ===== UPTIME ===== */
    function updateUptime() {
        var born = new Date(2005, 9, 25);
        var diff = Date.now() - born.getTime();
        var d = Math.floor(diff / 86400000);
        var h = Math.floor((diff % 86400000) / 3600000);
        var m = Math.floor((diff % 3600000) / 60000);
        document.getElementById('uptime-val').textContent = d + 'd ' + h + 'h ' + m + 'm';
    }

    /* ===== DISCORD LANYARD ===== */
    function fetchDiscord() {
        var el = document.getElementById('discord-status');
        fetch('https://api.lanyard.rest/v1/users/1158588351943811142')
            .then(function(r) { return r.json(); })
            .then(function(data) {
                if (!data.success || !data.data) { el.innerHTML = '<span class="dim">could not fetch status</span>'; return; }
                var d = data.data;
                var st = d.discord_status || 'offline';
                var labels = { online:'Online', idle:'Idle', dnd:'Do Not Disturb', offline:'Offline' };
                var h = '<span class="status-indicator status-' + st + '"></span><span class="cmd">' + (labels[st]||'Unknown') + '</span>';

                if (d.listening_to_spotify && d.spotify) {
                    var sp = d.spotify;
                    h += '<div class="spotify-bar"><span class="sp-icon"><i class="fa-brands fa-spotify"></i></span> Listening to <span class="highlight">' + esc(sp.song) + '</span> by <span class="amber">' + esc(sp.artist) + '</span>';
                    if (sp.album) h += ' &mdash; <span class="dim">' + esc(sp.album) + '</span>';
                    h += '</div>';
                }

                if (d.activities) {
                    for (var i = 0; i < d.activities.length; i++) {
                        var a = d.activities[i];
                        if (a.type === 2) continue;
                        if (a.name === 'Custom Status') {
                            if (a.state) h += '<div class="activity-bar"><span class="dim">Status:</span> <span class="cmd">' + esc(a.state) + '</span></div>';
                            continue;
                        }
                        var lbl = 'Playing';
                        if (a.type === 1) lbl = 'Streaming';
                        if (a.type === 3) lbl = 'Watching';
                        if (a.type === 5) lbl = 'Competing in';
                        h += '<div class="activity-bar"><span class="cyan">' + lbl + '</span> <span class="highlight">' + esc(a.name) + '</span>';
                        if (a.details) h += ' &mdash; <span class="dim">' + esc(a.details) + '</span>';
                        h += '</div>';
                    }
                }
                el.innerHTML = h;
            })
            .catch(function() { el.innerHTML = '<span class="dim">connection refused</span>'; });
    }

    /* ===== INIT ===== */
    function init() {
        renderProjects();
        initMatrixRain();

        crtPowerOn(function() {
            typeBootSequence(function() {
                initScrollReveal();
                updateTime();
                updateUptime();
                fetchDiscord();
                setInterval(updateTime, 1000);
                setInterval(updateUptime, 60000);
                setInterval(fetchDiscord, 30000);
            });
        });
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        init();
    }
})();
</script>

</body>
</html>
